<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/boopie-docs/blog/rss.xml" title="Boopie Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/boopie-docs/blog/atom.xml" title="Boopie Docs Blog Atom Feed"><title data-react-helmet="true">AutoMod V2 | Boopie Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="AutoMod V2 | Boopie Docs"><meta data-react-helmet="true" name="description" content="Not satisfied with the automod Boopie has? Sure! Make your own one here!."><meta data-react-helmet="true" property="og:description" content="Not satisfied with the automod Boopie has? Sure! Make your own one here!."><meta data-react-helmet="true" property="og:url" content="https://YellowBanana508.github.io//boopie-docs/docs/automod"><link data-react-helmet="true" rel="shortcut icon" href="/boopie-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://YellowBanana508.github.io//boopie-docs/docs/automod"><link rel="stylesheet" href="/boopie-docs/styles.e479d0ce.css">
<link rel="preload" href="/boopie-docs/styles.f36f0889.js" as="script">
<link rel="preload" href="/boopie-docs/runtime~main.1c10dd18.js" as="script">
<link rel="preload" href="/boopie-docs/main.5254e22a.js" as="script">
<link rel="preload" href="/boopie-docs/1.030b61df.js" as="script">
<link rel="preload" href="/boopie-docs/14.53440b92.js" as="script">
<link rel="preload" href="/boopie-docs/15.329d7436.js" as="script">
<link rel="preload" href="/boopie-docs/f976f453.e0e4424b.js" as="script">
<link rel="preload" href="/boopie-docs/13.52973bf5.js" as="script">
<link rel="preload" href="/boopie-docs/50920da2.0b0c911d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/boopie-docs/"><img src="/boopie-docs/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/boopie-docs/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Boopie</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/boopie-docs/docs/">Boopie Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/boopie-docs/"><img src="/boopie-docs/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/boopie-docs/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Boopie</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/boopie-docs/docs/">Boopie Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/boopie-docs/docs/">About Boopie</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/boopie-docs/docs/links">Links</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">AutoMod</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/boopie-docs/docs/automod">AutoMod V2</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tags</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/boopie-docs/docs/tags">Tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/boopie-docs/docs/tagscript">TagScriptEngine Blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/boopie-docs/docs/defaultvar">Default Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/boopie-docs/docs/parsing">Parsing Blocks</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">AutoMod V2</h1></header><div class="markdown"><p>Not satisfied with the automod Boopie has? Sure! Make your own one here!.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="warden"></a>Warden<a class="hash-link" href="#warden" title="Direct link to heading">#</a></h1><ul><li><a href="#warden">Warden</a><ul><li><a href="#an-introduction-to-warden">An introduction to Warden</a><ul><li><a href="#rule-format-a-basic-example">Rule format: a basic example</a></li><li><a href="#context">Context</a></li><li><a href="#defining-a-more-complex-rule">Defining a more complex rule</a></li><li><a href="#a-quick-recap">A quick recap</a></li><li><a href="#final-notes">Final notes</a></li></ul></li><li><a href="#advanced-features">Advanced features</a><ul><li><a href="#execution-order">Execution order</a></li><li><a href="#heat-level">Heat level</a></li></ul></li><li><a href="#events">Events</a></li><li><a href="#conditions">Conditions</a></li><li><a href="#actions">Actions</a></li><li><a href="#context-variables">Context variables</a></li><li><a href="#examples">Examples</a></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="an-introduction-to-warden"></a>An introduction to Warden<a class="hash-link" href="#an-introduction-to-warden" title="Direct link to heading">#</a></h2><p>Warden is the most versatile module that you can find in Boopie.<br>
It allows you to define custom rules by combining a rich set of events, conditions and actions.<br>
Need to filter messages only in certain channels? Or maybe rename people meeting very specific requirements? Warden got you covered!</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="rule-format-a-basic-example"></a>Rule format: a basic example<a class="hash-link" href="#rule-format-a-basic-example" title="Direct link to heading">#</a></h3><p>Rules can be written in the YAML language and must be structured in a very specific way to be deemed a valid rule.<br>
Let&#x27;s start with a basic scenario: you have an innate fear of spiders and you wish to delete any message that mentions them.<br>
So, without further ado, you add this rule through <code>[p]defender warden add</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> spiders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">are</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">spooky</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">message-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*spider*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> delete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>And now let&#x27;s break this down.  </p><ul><li><code>name</code> is the name of this rule. Every rule that you add will have an unique name to tell them apart. If you try to add a rule with a name that is already registered a confirmation will be asked before proceeding with overwrite.  </li><li><code>rank</code> is the highest rank that this rule will target. As explained in <code>[p]defender status</code>, Rank 1 is the highest rank there is. This means that every message that is sent will be targeted, even staff&#x27;s.</li><li><code>event</code> is <em>when</em> this rule will enter into effect. There are currently 5 <a href="#events">events</a> available.<br>A rule can also be defined with multiple events by using a list, example: <code>[on-message, on-message-edit]</code></li><li><code>if</code> is the section where the <a href="#conditions">conditions</a> are defined. It supports both basic condition and special condition blocks (we&#x27;ll get to that later). Every condition (and condition block) must resolve to <code>true</code> for the rule&#x27;s action to be executed.</li><li><code>do</code> is the section where the <a href="#actions">actions</a> are defined. Actions are ordered and will be executed in the order you have defined them. If one of them errors out for whatever reason, the action&#x27;s execution will stop. You can monitor errors in <code>[p]defender monitor</code>.  </li></ul><p>The condition <code>message-matches-any</code> takes the message in the <em>context</em> and analyzes its content. Here we have put the word spider surrounded by the wildcard <code>*</code>: this means that the word spider simply being present in a message is enough for this condition to pass.</p><p>As you may have noticed the action <code>delete-user-message</code> doesn&#x27;t need any parameter: it simply deletes the message in the context.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="context"></a>Context<a class="hash-link" href="#context" title="Direct link to heading">#</a></h3><p>Events have a context. <code>on-message</code> for example, will have <code>message</code> and <code>user</code> (the message author&#x27;s) available, so any condition and action that is bound to analyze or take action on a message will be allowed to be used in that rule.<br>
A rule with the condition <code>message-matches-any</code> combined with the event <code>on-user-join</code> will be rejected: Warden doesn&#x27;t have a message to analyze in this event, therefore the rule will be simply deemed invalid.<br>
Depending on the context you will have certain <em>context variables</em> available: there are some special actions that accept these variables in their parameters.<br>
Example:  </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">send-mod-log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;No particular reason: I just really dislike $user.&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If the user in context is called HairySpider#9999 Warden will post a mod-log entry as  </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">No particular reason: I just really dislike HairySpider#9999.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="defining-a-more-complex-rule"></a>Defining a more complex rule<a class="hash-link" href="#defining-a-more-complex-rule" title="Direct link to heading">#</a></h3><p>This first rule was very basic. What if, instead, we wanted to outright <strong>ban</strong> any user that mentions spiders <em>OR</em> has the word spider in their username/nickname, like our friend HairySpider#9999?<br>
But, since we are also hindered by a conscience, we want to give new users time to read the #rules channel, so we&#x27;ll make sure to only punish infidels who are knowingly breaking the rules.<br>
Finally, the ruling class, staff members, must be free to discuss the enemy of the state without ever getting banned themselves.<br>
Wow, this got complicated fast huh? Luckily this is where <em>condition blocks</em> come to our aid.  </p><p>At the time of writing there are three condition blocks:</p><ul><li><code>if-any</code></li><li><code>if-all</code></li><li><code>if-not</code>  </li></ul><p>When a rule is processed, conditions blocks are individually resolved to <strong>true</strong> or <strong>false</strong>.<br>
For <code>if-all</code> to pass, every condition that it contains must be <strong>true</strong>.<br>
Every condition contained in <code>if-not</code> must resolve to <strong>false</strong>.<br>
And as you can probably guess by now, a single <strong>true</strong> condition inside <code>if-any</code> is enough for it to pass.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> spiders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">are</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">spooky</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">if-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">username-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*spider*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">message-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*spider*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">nickname-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*spider*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">if-not</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">user-joined-less-than</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">is-staff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">ban-user-and-delete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">send-mod-log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Usage of the S word is not welcome in this community. Begone, $user.&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This is how a condition block is structured: it contains basic conditions. To prevent too much complexity nested condition blocks are not allowed.<br>
In our case here <em>if</em> the author&#x27;s of a message has the word spider in their username/nickname <em>OR</em> their message contains the word spider <em>AND</em> at the same time hasn&#x27;t joined less than <strong>2</strong> hours ago and is also not a staff member <em>then</em> they will be banned and all the messages sent by them in the last day will be deleted.<br>
Additionally, a mod-log entry for this last ban will be posted, condemning the author of this unspeakable crime for everyone to see.<br>
Our Orwellian quest of never ever allowing the S word to be used in our community again is now completed.</p><p>As you can see condition blocks are a nice to have when you need a slightly more complex logic but remember that they&#x27;re not mandatory, you can choose to use them only when you truly need to.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="a-quick-recap"></a>A quick recap<a class="hash-link" href="#a-quick-recap" title="Direct link to heading">#</a></h3><p>Rules are triggered when the specified event takes place.<br>
The user&#x27;s rank (if applicable, not every event has a user context) will be matched against the one defined in the rule.<br>
After that, the conditions will be evaluated and finally, if the conditions have passed, Warden will start processing the actions one by one.<br>
If any of the actions fail execution will stop and the error will be reported in <code>[p]defender monitor</code>.<br>
Rules can have an order of execution. See <a href="#advanced-features">advanced features</a> for more informations.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="final-notes"></a>Final notes<a class="hash-link" href="#final-notes" title="Direct link to heading">#</a></h3><p>Rules give you complete freedom by design.<br>
In that last example even <em>trusted roles</em> and <em>helper roles</em> aren&#x27;t protected: if they pass the conditions they will be targeted by the actions.<br>
Be careful when you design the logic of a rule with drastic actions such as bans. The parameter <strong>rank</strong> is there to help you protect categories of users: trusted users, helper users and staff will always be immune if you set the rank to at least level 2.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="advanced-features"></a>Advanced features<a class="hash-link" href="#advanced-features" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="execution-order"></a>Execution order<a class="hash-link" href="#execution-order" title="Direct link to heading">#</a></h3><p>The rules that you add do not have any guaranteed order of execution. You can change this, however, for example to make sure that a particular rule is always executed first (or after all your other ordered rules): this is done with the optional <code>priority</code> parameter.<br>
Priority can be a number between 1 and 999. When something happens, Boopie gathers all the rules that you have added for that particular event and reorders them based on the priority parameter. Rules that lack a priority parameter will always be executed last, in an unordered manner.<br>
Boopie will not stop you from defining multiple rules with the same priority: this is fine for rules that are for different events as they won&#x27;t &quot;conflict&quot; with each other, however be mindful of that when you set up prioritized rules for a single event.<br>
This is how you define a rule with priority:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> always</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">first</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">priority</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">message-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">send-to-monitor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;I&#x27;m 1st!&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="heat-level"></a>Heat level<a class="hash-link" href="#heat-level" title="Direct link to heading">#</a></h3><p>Conditions give you a way to have your rules only execute under very specific conditions. However, what if, for example, we want our rule to execute after an user triggered some other rule a defined amount of times? That&#x27;s where the heat level system comes in handy.<br>
Imagine that each user has an invisible bar, just like an health bar in videogames, where their heat level is being tracked:  </p><p><code>[____________________]</code>  </p><p>This bar can contain a maximum of 100 heat points. Normally it is empty. Through rule actions you can assign points to this bar. Each point has a definite lifetime and you decide how much that is:  </p><p><code>add-user-heatpoint: 10s</code>  (also accepts minutes and hours. Up to 24 hours)<br>
<code>[X___________________]</code>  </p><p>After 10 seconds have elapsed, the bar will go back to being empty. You can also assign multiple heatpoints at once with the same lifetime:  </p><p><code>add-user-heatpoints: [5, 10m]</code><br>
<code>[XXXXX_______________]</code>  </p><p>And in case you want to empty the bar:<br>
<code>empty-user-heat:</code>  </p><p>But how do you check for heat points in rules? With conditions:<br>
<code>user-heat-is: 5</code>
or<br>
<code>user-heat-more-than: 2</code></p><p>You may want to first assign heatpoints and <em>then</em>, in a separate rule, check the heat level. Since rules are normally executed in an unordered manner, remember to use the <a href="#execution-order">priority parameter</a> to make sure that your heat-assigning rules are executed first.<br>
Channels also have heat levels and they work the same way as users&#x27;. You can find all the related conditions and actions in the sections below plus some handy <a href="#examples">examples</a> at the bottom.  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="events"></a>Events<a class="hash-link" href="#events" title="Direct link to heading">#</a></h2><ul><li><code>on-message</code><br><strong>Triggered when:</strong> a new message is sent<br><strong>Available context:</strong> message, user  </li><li><code>on-message-edit</code><br><strong>Triggered when:</strong> a message is edited<br><strong>Available context:</strong> message, user  </li><li><code>on-message-delete</code><br><strong>Triggered when:</strong> a message is deleted<br><strong>Available context:</strong> message, user  </li><li><code>on-user-join</code><br><strong>Triggered when:</strong> a new user joins the server<br><strong>Available context:</strong> user  </li><li><code>on-user-leave</code><br><strong>Triggered when:</strong> a user leaves the server<br><strong>Available context:</strong> user  </li><li><code>on-emergency</code><br><strong>Triggered when:</strong> the server enters a state of emergency, either automatic or manual<br><strong>Available context:</strong> none  </li><li><code>manual</code><br><strong>Triggered when:</strong> the rule is manually run by an admin with <code>[p]defender warden run</code><br><strong>Available context:</strong> user  </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="conditions"></a>Conditions<a class="hash-link" href="#conditions" title="Direct link to heading">#</a></h2><ul><li><code>message-matches-any</code><br>Is <code>true</code> if any of patters that you list are found in the message&#x27;s context<br><strong>Accepts:</strong> A list of patterns. Patterns can make use of wildcards such as <code>*</code> and <code>?</code><br><strong>Context:</strong> <code>message</code>  </li><li><code>message-has-attachment</code><br>Will check if the message contains an attachment<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> <code>message</code>  </li><li><code>message-contains-url</code><br>Will check if the message contains a clickable URL.<br>Note: URLs lacking a protocol (http/https) will not be detected.<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> <code>message</code>  </li><li><code>message-contains-invite</code><br>Will check if the message contains a standard Discord invite<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> <code>message</code>  </li><li><code>message-contains-media</code><br>Will check if the message contains any media link  (picture or video)<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> <code>message</code>  </li><li><code>message-contains-more-than-mentions</code><br>Will check if the message contains more than X mentions.<br><strong>Accepts:</strong> A number representing the number of mentions<br><strong>Context:</strong> <code>message</code>  </li><li><code>message-contains-more-than-unique-mentions</code><br>Will check if the message contains more than X unique mentions. As opposed to the non-unique variant the mentioned users are being counted, <em>not</em> just the mentions themselves.<br><strong>Accepts:</strong> A number representing the number of unique mentions.<br><strong>Context:</strong> <code>message</code>  </li><li><code>message-contains-more-than-emojis</code><br>Will check if the message contains more than X emojis. <strong>Important:</strong> emojis with <a href="https://en.wikipedia.org/wiki/Emoticons_(Unicode_block)#Emoji_modifiers" target="_blank" rel="noopener noreferrer">modifiers</a>, such as a thumbs up emoji with custom skin color, will be considered 2 separate emojis.<br><strong>Accepts:</strong> A number representing the number of emojis.<br><strong>Context:</strong> <code>message</code>  </li><li><code>message-has-more-than-characters</code><br>Will check if the message contains more than X characters. Emojis and custom emojis will be considered a single character. Mentions, both users and channels, are counted too.<br><strong>Accepts:</strong> A number representing the number of characters.<br><strong>Context:</strong> <code>message</code>  </li><li><code>user-id-matches-any</code><br>Is <code>true</code> if any of the IDs that you list match the user&#x27;s ID<br><strong>Accepts:</strong> A list of IDs (numbers)<br><strong>Context:</strong> <code>user</code><br><strong>Example:</strong> <code>user-id-matches-any: [123456789, 2626262626]</code>  </li><li><code>username-matches-any</code><br>Is <code>true</code> if any of patters that you list are found in the user&#x27;s username<br><strong>Accepts:</strong> A list of patterns. Patterns can make use of wildcards such as <code>*</code> and <code>?</code><br><strong>Context:</strong> <code>user</code>  </li><li><code>nickname-matches-any</code><br>Is <code>true</code> if any of patters that you list are found in the user&#x27;s nickname<br><strong>Accepts:</strong> A list of patterns. Patterns can make use of wildcards such as <code>*</code> and <code>?</code><br><strong>Context:</strong> <code>user</code>  </li><li><code>user-created-less-than</code><br>Is <code>true</code> if the user&#x27;s account was created less than X hours ago<br><strong>Accepts:</strong> A number, representing the amount of hours to be checked<br><strong>Context:</strong> <code>user</code>  </li><li><code>user-joined-less-than</code><br>Is <code>true</code> if the user&#x27;s has joined the server less than X hours ago<br><strong>Accepts:</strong> A number, representing the amount of hours to be checked<br><strong>Context:</strong> <code>user</code>  </li><li><code>user-has-default-avatar</code><br>Will check if the user has a default Discord avatar<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> <code>user</code><br><strong>Example:</strong> <code>user-has-default-avatar: true</code> will be <code>true</code> if the profile picture is a default one  </li><li><code>user-has-sent-less-than-messages</code><br>Will check if the user has sent less than X messages in the server. <strong>Important:</strong> Boopie, by default, counts how many messages a user sends in a server. This does <em>not</em> check the real total number of messages a user has sent in a server since its creation.<br><strong>Accepts:</strong> A number representing the number of messages<br><strong>Context:</strong> <code>user</code>  </li><li><code>user-is-rank</code><br>Will check if the user is the specified rank. This condition allows for <em>rank-specific</em> Warden rules and grants more granular control compared to the standard <code>rank</code> parameter, which merely indicates the maximum rank a rule will have effect on.<br><strong>Accepts:</strong> A number representing the rank the user must belong to<br><strong>Context:</strong> <code>user</code>  </li><li><code>channel-matches-any</code><br><strong>Accepts:</strong> A list of channel&#x27;s names or IDs<br><strong>Context:</strong> <code>message</code><br><strong>Example:</strong> <code>channel-matches-any: [general, testing, 483223782]</code> will be <code>true</code> if the message was sent in any of these channels  </li><li><code>channel-is-public</code><br>Will check if the message was sent in a publicly viewable channel.<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> <code>message</code>  </li><li><code>in-emergency-mode</code><br>Will check if the server is in emergency mode, either manual or automatic<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> Any  </li><li><code>user-has-any-role-in</code><br>Is <code>true</code> if the user belongs to any of these roles in the list<br><strong>Accepts:</strong> A list of role names or IDs<br><strong>Context:</strong> <code>user</code><br><strong>Example:</strong> <code>user-has-any-role-in: [12345678, spider-fighter]</code> will be <code>true</code> if the user belongs to any of these roles  </li><li><code>is-staff</code><br>Will check if the user is a staff member<br><strong>Accepts:</strong> A bool (true or false)<br><strong>Context:</strong> <code>user</code>  </li><li><code>user-heat-is</code><br>Is <code>true</code> if the user has the specified <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A number between 0 and 100<br><strong>Context:</strong> <code>user</code>  </li><li><code>user-heat-more-than</code><br>Is <code>true</code> if the user exceeds the specified <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A number between 0 and 100<br><strong>Context:</strong> <code>user</code>  </li><li><code>channel-heat-is</code><br>Is <code>true</code> if the channel has the specified <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A number between 0 and 100<br><strong>Context:</strong> <code>message</code>  </li><li><code>channel-heat-more-than</code><br>Is <code>true</code> if the channel exceeds the specified <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A number between 0 and 100<br><strong>Context:</strong> <code>message</code>  </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="actions"></a>Actions<a class="hash-link" href="#actions" title="Direct link to heading">#</a></h2><ul><li><code>dm-user</code><br>Will DM the user in the context<br><strong>Accepts:</strong> A string. Supports context variables.<br><strong>Context:</strong> <code>user</code>  </li><li><code>set-user-nickname</code><br>Will change the nickname of a user<br><strong>Accepts:</strong> A string representing the new nickname to set. Supports context variables.<br><strong>Context:</strong> <code>user</code>  </li><li><code>delete-user-message</code><br>Will delete the user&#x27;s message<br><strong>Accepts:</strong> Nothing<br><strong>Context:</strong> <code>message</code>  </li><li><code>add-roles-to-user</code><br>Will assign the listed roles to the user<br><strong>Accepts:</strong> A list of roles (names / IDs)<br><strong>Context:</strong> <code>user</code>  </li><li><code>remove-roles-from-user</code><br>Will remove the listed roles from the user<br><strong>Accepts:</strong> A list of roles (names / IDs)<br><strong>Context:</strong> <code>user</code>  </li><li><code>ban-user-and-delete</code><br>Will ban the user from the server and delete X days worth of messages<br><strong>Accepts:</strong> A number representing the days worth of messages to delete<br><strong>Context:</strong> <code>user</code>  </li><li><code>kick-user</code><br>Will kick the user from the server<br><strong>Accepts:</strong> Nothing<br><strong>Context:</strong> <code>user</code>  </li><li><code>softban-user</code><br>Will kick the user from the server and delete 1 days worth of messages<br><strong>Accepts:</strong> Nothing<br><strong>Context:</strong> <code>user</code>  </li><li><code>notify-staff</code><br>Will send a message in the channel designated for notifications<br><strong>Accepts:</strong> A string representing the message to send. Supports context variables.<br><strong>Context:</strong> Any  </li><li><code>notify-staff-and-ping</code><br>Will send a message in the channel designated for notifications along with a staff role ping<br><strong>Accepts:</strong> A string representing the message to send. Supports context variables.<br><strong>Context:</strong> Any  </li><li><code>notify-staff-with-embed</code><br>Will send a message with embed in the channel designated for notifications<br><strong>Accepts:</strong> A list containing 2 elements: title of the embed, content of the embed. Supports context variables.<br><strong>Context:</strong> Any  </li><li><code>send-mod-log</code><br>Will create a new mod-log case of the last expel action issued by the rule<br><strong>Accepts:</strong> A string representing the reason of the expel action. Supports context variables.<br><strong>Context:</strong> Any  </li><li><code>send-in-channel</code><br>Will send a message in the same channel as the context&#x27;s message<br><strong>Accepts:</strong> A string representing the message to send. Supports context variables.<br><strong>Context:</strong> <code>message</code>  </li><li><code>set-channel-slowmode</code><br>Will set (or deactivate) slowmode of the channel in the context&#x27;s message<br><strong>Accepts:</strong> A string representing the slowmode time. Some examples: &#x27;5 seconds&#x27;, &#x27;2 minutes&#x27;, &#x27;4 hours&#x27;. &#x27;0 seconds&#x27; will deactivate slowmode.<br><strong>Context:</strong> <code>message</code>  </li><li><code>enable-emergency-mode</code><br>Will toggle emergency mode<br><strong>Accepts:</strong> A bool (true or false), representing whether emergency mode should be enabled or disabled<br><strong>Context:</strong> Any  </li><li><code>send-to-monitor</code><br>Will send a message to Boopie&#x27;s monitor, <code>[p]defender monitor</code><br><strong>Accepts:</strong> A string representing the message to send. Supports context variables.<br><strong>Context:</strong> Any  </li><li><code>send-dm</code><br>Will DM a user-defined ID.<br><strong>Accepts:</strong> A list containing 2 elements: ID of the user, content of the message. Supports context variables.<br><strong>Context:</strong> Any  </li><li><code>send-to-channel</code><br>Will send a message to a user-defined channel.<br><strong>Accepts:</strong> A list containing 2 elements: ID or name of the channel, content of the message. Supports context variables.<br><strong>Context:</strong> Any  </li><li><code>no-op</code><br>Does nothing. Useful only for testing a rule&#x27;s conditions with <code>[p]defender warden run</code><br><strong>Accepts:</strong> Nothing<br><strong>Context:</strong> Any  </li><li><code>add-user-heatpoint</code><br>Adds a single heat point with the specified lifetime to the user&#x27;s <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A string representing the heat point&#x27;s lifetime. Some examples: &#x27;5 seconds&#x27;, &#x27;2 minutes&#x27;, &#x27;4 hours&#x27;<br><strong>Context:</strong> <code>user</code><br><strong>Example:</strong> <code>add-user-heatpoint: 5 seconds</code> <code>add-user-heatpoint: 1m</code>  </li><li><code>add-user-heatpoints</code><br>Adds multiple heat points with the specified lifetime to the user&#x27;s <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A list containing two elements: the amount of heatpoints to assign (1-100) and a string representing the heat points&#x27; lifetime. Some examples: &#x27;5 seconds&#x27;, &#x27;2 minutes&#x27;, &#x27;4 hours&#x27;<br><strong>Context:</strong> <code>user</code><br><strong>Example:</strong> <code>add-user-heatpoints: [10, 5 seconds]</code> <code>add-user-heatpoints: [2, 1m]</code>  </li><li><code>add-channel-heatpoint</code><br>Adds a single heat point with the specified lifetime to the channel&#x27;s <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A string representing the heat point&#x27;s lifetime. Some examples: &#x27;5 seconds&#x27;, &#x27;2 minutes&#x27;, &#x27;4 hours&#x27;<br><strong>Context:</strong> <code>message</code><br><strong>Example:</strong> <code>add-channel-heatpoint: 5 seconds</code> <code>add-channel-heatpoint: 1m</code>  </li><li><code>add-channel-heatpoints</code><br>Adds multiple heat points with the specified lifetime to the channel&#x27;s <a href="#heat-level">heat level</a><br><strong>Accepts:</strong> A list containing two elements: the amount of heatpoints to assign (1-100) and a string representing the heat points&#x27; lifetime. Some examples: &#x27;5 seconds&#x27;, &#x27;2 minutes&#x27;, &#x27;4 hours&#x27;<br><strong>Context:</strong> <code>message</code><br><strong>Example:</strong> <code>add-channel-heatpoints: [10, 5 seconds]</code> <code>add-channel-heatpoints: [2, 1m]</code>  </li><li><code>empty-user-heat</code><br>Sets the user&#x27;s <a href="#heat-level">heat level</a> to 0<br><strong>Accepts:</strong> Nothing<br><strong>Context:</strong> <code>user</code>  </li><li><code>empty-channel-heat</code><br>Sets the channel&#x27;s <a href="#heat-level">heat level</a> to 0<br><strong>Accepts:</strong> Nothing<br><strong>Context:</strong> <code>message</code>  </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="context-variables"></a>Context variables<a class="hash-link" href="#context-variables" title="Direct link to heading">#</a></h2><p>For more informations see <a href="#context">context</a></p><ul><li><code>$action_name</code><br>The action&#x27;s name  </li><li><code>$guild</code><br>The guild&#x27;s name  </li><li><code>$guild_id</code><br>The guild&#x27;s ID  </li><li><code>$user</code><br>The user&#x27;s name + the discriminator  </li><li><code>$user_name</code><br>The user&#x27;s name  </li><li><code>$user_id</code><br>The user&#x27;s ID  </li><li><code>$user_mention</code><br>The user&#x27;s mention  </li><li><code>$user_nickname</code><br>The user&#x27;s nickname. &quot;None&quot; if not set.  </li><li><code>$user_created_at</code><br>The date and time in which the user created the account.    </li><li><code>$user_joined_at</code><br>The date and time in which the user joined the server.  </li><li><code>$user_heat</code><br>The user&#x27;s <a href="#heat-level">heat level</a>  </li><li><code>$message</code><br>The message content.  </li><li><code>$message_id</code><br>The message&#x27;s ID.  </li><li><code>$message_created_at</code><br>The date and time in which the message was created.  </li><li><code>$message_link</code><br>The URL pointing to the message  </li><li><code>$attachment_filename</code><br>The message attachment&#x27;s filename, if any.  </li><li><code>$attachment_url</code><br>The message attachment&#x27;s url, if any.  </li><li><code>$channel</code><br>The channel&#x27;s name in the form of #channel_name  </li><li><code>$channel_name</code><br>The channel&#x27;s name  </li><li><code>$channel_id</code><br>The channel&#x27;s ID  </li><li><code>$channel_mention</code><br>The channel&#x27;s mention  </li><li><code>$channel_heat</code><br>The channel&#x27;s <a href="#heat-level">heat level</a>  </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><p>This rule renames users who are attempting to hoist. Hoisting means prepending an exclamation mark to the username with the purpose of showing up at the top of the user list. This rule can also be manually run against every server member (<code>[p]def warden run</code>). Trusted users, staff and users who already have a nickname are ignored.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> dehoist</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> manual</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">username-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">if-not</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">nickname-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">set-user-nickname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;no hoisting&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This rule prevents new users (rank 4) from sending attachments. Staff is also notified about the deletion and is being given precise context about where that happened.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> no</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">attachments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">rank4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">edit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">message-has-attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">delete-user-message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">send-in-channel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;$user_mention Sorry, you are not allowed to send attachments.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">notify-staff-with-embed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Attachment removed&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;New user $user_mention attempted to send an attachment in $channel_mention\nMessage content, if any: $message\n[Click to jump]($message_link)&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This rule bans any user (except trusted users and staff) who mentions at least 15 different people.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mention</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">ban</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">rank2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">message-contains-more-than-unique-mentions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">14</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">ban-user-and-delete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">send-mod-log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;User banned for mentioning too many people.&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The following two rules take advantage of the <a href="#heat-level">heat level</a> system to kick a user after 3 infractions. Notice the <code>priority</code> parameter in the first rule.  </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> bad</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">word</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">priority</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">message-matches-any</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*b?d w?rd*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">delete-user-message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">send-in-channel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;No bad word here!&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">add-user-heatpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 1h</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">rank</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> check</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">heat</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">message</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">user-heat-is</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">do</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> kick</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/automod.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/boopie-docs/docs/links"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Links</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/boopie-docs/docs/tags"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tags Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#an-introduction-to-warden" class="table-of-contents__link">An introduction to Warden</a><ul><li><a href="#rule-format-a-basic-example" class="table-of-contents__link">Rule format: a basic example</a></li><li><a href="#context" class="table-of-contents__link">Context</a></li><li><a href="#defining-a-more-complex-rule" class="table-of-contents__link">Defining a more complex rule</a></li><li><a href="#a-quick-recap" class="table-of-contents__link">A quick recap</a></li><li><a href="#final-notes" class="table-of-contents__link">Final notes</a></li></ul></li><li><a href="#advanced-features" class="table-of-contents__link">Advanced features</a><ul><li><a href="#execution-order" class="table-of-contents__link">Execution order</a></li><li><a href="#heat-level" class="table-of-contents__link">Heat level</a></li></ul></li><li><a href="#events" class="table-of-contents__link">Events</a></li><li><a href="#conditions" class="table-of-contents__link">Conditions</a></li><li><a href="#actions" class="table-of-contents__link">Actions</a></li><li><a href="#context-variables" class="table-of-contents__link">Context variables</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/boopie-docs/docs/">About</a></li><li class="footer__item"><a class="footer__link-item" href="/boopie-docs/docs/links">Links</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Guide</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/boopie-docs/docs/automod">Automod</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/boopie-docs/docs/tags">Tags</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/FAtJTcNsvT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support</a></li><li class="footer__item"><a href="https://github.com/YellowBanana508/boopie-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Boopie, a bot made by YellowBanana with â¤ï¸</div></div></div></footer></div>
<script src="/boopie-docs/styles.f36f0889.js"></script>
<script src="/boopie-docs/runtime~main.1c10dd18.js"></script>
<script src="/boopie-docs/main.5254e22a.js"></script>
<script src="/boopie-docs/1.030b61df.js"></script>
<script src="/boopie-docs/14.53440b92.js"></script>
<script src="/boopie-docs/15.329d7436.js"></script>
<script src="/boopie-docs/f976f453.e0e4424b.js"></script>
<script src="/boopie-docs/13.52973bf5.js"></script>
<script src="/boopie-docs/50920da2.0b0c911d.js"></script>
</body>
</html>